(this.webpackJsonpvu_fe_35_p2=this.webpackJsonpvu_fe_35_p2||[]).push([[100,108],{121:function(e,r,a){"use strict";a.r(r);var t=a(49),n=a(6),s=a(530),l=a(0),c=a.n(l),o=a(556),i=a(71),u=a(48),m=a(62),f=a(2);r.default=Object(f.i)((function(e){var r=Object(o.a)("translation").t,a=Object(l.useState)({firstname:{errorMessage:""},lastname:{errorMessage:""},email:{errorMessage:""},phone:{errorMessage:""},password:{errorMessage:""},confirmPass:{errorMessage:""}}),f=Object(s.a)(a,2),p=f[0],g=f[1],d=Object(l.useRef)(),v=Object(l.useRef)(),b=Object(l.useRef)(),E=Object(l.useRef)(),M=Object(l.useRef)(),_=Object(l.useRef)();Object(l.useEffect)((function(){if(null!==localStorage.getItem("Token")){var e=JSON.parse(localStorage.getItem("Token"));d.current.value=e.firstName,b.current.value=e.lastName,v.current.value=e.email,E.current.value=e.phone}}),[]);var x=function(e){var a=e.target.name,s=function(e,a){if(""===a)return{errorMessage:r("validate.require")};if("email"===e){return null!==/\S+@\S+\.\S+/.exec(a)?{errorMessage:""}:{errorMessage:r("validate.email")}}if("firstname"===e){return null!==/^[a-zA-Z]+$/.exec(a)?{errorMessage:""}:{errorMessage:r("validate.firstname")}}if("lastname"===e){return null!==/^[a-zA-Z]+$/.exec(a)?{errorMessage:""}:{errorMessage:r("validate.lastname")}}if("phone"===e){return null!==/^\d{10}$/.exec(a)?{errorMessage:""}:{errorMessage:r("validate.phone")}}if("password"===e){return null!==/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.exec(a)?{errorMessage:""}:{errorMessage:r("validate.password")}}return"confirmPass"===e?a===M.current.value?{errorMessage:""}:{errorMessage:r("validate.confirm")}:void 0}(a,function(e){switch(e){case"email":return v.current.value;case"firstname":return d.current.value;case"lastname":return b.current.value;case"phone":return E.current.value;case"password":return M.current.value;case"confirmPass":return _.current.value}}(a)).errorMessage,l=Object(n.a)({},p[a]);l.errorMessage=s,g(Object(n.a)(Object(n.a)({},p),{},Object(t.a)({},a,l)))},N=function(){var a={id:JSON.parse(localStorage.getItem("Token")).id,email:v.current.value,firstName:d.current.value,lastName:b.current.value,password:M.current.value,phone:E.current.value,role:"menber"};Object(m.default)("users/".concat(JSON.parse(localStorage.getItem("Token")).id),"put",a).then((function(a){a&&200===a.status?(localStorage.setItem("Token",JSON.stringify(Object(n.a)(Object(n.a)({},a.data),{},{password:"******",role:"***"}))),u.NotificationManager.success(r("profile.success")),e.history.push("/")):u.NotificationManager.error(r("profile.err"))}))};return c.a.createElement("main",null,c.a.createElement("section",{className:"register"},c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"register__content"},c.a.createElement("div",{className:"register__content__title title-content"},c.a.createElement("h1",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)",textTransform:"uppercase"}},r("edit-profile"))),c.a.createElement("div",{className:"register__content__form form"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=d.current.value,t=b.current.value,n=v.current.value,s=E.current.value,l=M.current.value,c=_.current.value;if(""!==a&&""!==t&&""!==n&&""!==s&&""!==l&&""!==c){if(l!==c)return u.NotificationManager.warning("Warning message",r("register.pass-again")),!1;N()}else u.NotificationManager.warning(r("register.require"))}},c.a.createElement("div",{className:"register__content__form__title1"},c.a.createElement("h3",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},r("register.h3"))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.first-name")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"text",ref:d,name:"firstname",onKeyUp:x}),c.a.createElement(i.default,{errorMessage:p.firstname.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.last-name")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"text",ref:b,name:"lastname",onKeyUp:x}),c.a.createElement(i.default,{errorMessage:p.lastname.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.email")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"email",ref:v,name:"email",onKeyUp:x,disabled:!0,style:{background:"#b9b9b9c7"}}),c.a.createElement(i.default,{errorMessage:p.email.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.phone")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"phone",ref:E,name:"phone",onKeyUp:x}),c.a.createElement(i.default,{errorMessage:p.phone.errorMessage})),c.a.createElement("div",{className:"register__content__form__title2"},c.a.createElement("h3",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},r("register.info-login"))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.password")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"password",ref:M,name:"password",onKeyUp:x}),c.a.createElement(i.default,{errorMessage:p.password.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.confirm")),c.a.createElement("input",{type:"password",ref:_,name:"confirmPass",onKeyUp:x}),c.a.createElement(i.default,{errorMessage:p.confirmPass.errorMessage})),c.a.createElement("div",{className:"register__content__form__btn btn-form"},c.a.createElement("button",{type:"submit",style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)"}},r("profile.btn")),c.a.createElement("button",{type:"button",style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)"},onClick:function(){return e.history.goBack()}},c.a.createElement("i",{className:"fas fa-reply"}),r("register.btn-back")))))))))}))},71:function(e,r,a){"use strict";a.r(r);var t=a(0),n=a.n(t);r.default=function(e){return n.a.createElement("div",{className:"text-left text-danger font-italic"},e.errorMessage)}}}]);
//# sourceMappingURL=100.f4aee0a7.chunk.js.map