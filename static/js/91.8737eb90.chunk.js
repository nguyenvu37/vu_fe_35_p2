(this.webpackJsonpvu_fe_35_p2=this.webpackJsonpvu_fe_35_p2||[]).push([[91,102,108,111],{129:function(e,r,a){"use strict";a.r(r);var t=a(538),n=a.n(t),s=a(539),c=a(49),u=a(6),l=a(530),o=a(0),i=a.n(o),m=a(556),d=a(47),f=a.n(d),p=a(44),g=a(63),v=a(62),b=a(71),x=a(70),h=a(2);r.default=Object(h.i)((function(e){var r=Object(m.a)("translation").t,a=Object(p.c)((function(e){return e.users.loggedIn})),t=Object(o.useState)("none"),d=Object(l.a)(t,2),h=d[0],M=d[1],j=Object(o.useRef)(),O=Object(o.useRef)(),w=Object(o.useRef)(),y=Object(p.b)(),E=Object(o.useState)({email:{errorMessage:""},password:{errorMessage:""},confirmPass:{errorMessage:""}}),k=Object(l.a)(E,2),_=k[0],S=k[1],N=function(e){var r=e.target.name,a=Object(x.validateInput)(r,Object(x.getValueInput)(r,j,"","","",O,w),O.current.value).errorMessage,t=Object(u.a)({},_[r]);t.errorMessage=a,S(Object(u.a)(Object(u.a)({},_),{},Object(c.a)({},r,t)))},I=function(){var e=Object(s.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,!(""===_.password.errorMessage&&""===_.email.errorMessage);case 3:if(!e.sent){e.next=7;break}return e.abrupt("return",f.a.warning(r("login.format")));case 7:return e.next=9,Object(v.default)("users?email=".concat(j.current.value),"get",null).then((function(e){e&&200===e.status&&e.data&&(e.data.length>0?(f.a.success(r("recover.success1")),M("flex")):M("none"))}));case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),z=function(){var a=Object(s.a)(n.a.mark((function a(t){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),""!==O.current.value&&""!==w.current.value){a.next=6;break}return f.a.warning(r("login.format")),a.abrupt("return",!1);case 6:return a.next=8,Object(v.default)("users?email=".concat(j.current.value),"get",null).then((function(a){if(a.data[0]&&a.data[0].email===j.current.value&&"menber"===a.data[0].role){var t=Object(u.a)(Object(u.a)({},a.data[0]),{},{password:O.current.value});Object(v.default)("users/".concat(a.data[0].id),"put",Object(u.a)({},t)).then((function(){localStorage.setItem("Token",JSON.stringify(Object(u.a)(Object(u.a)({},a.data[0]),{},{password:"******",role:"***"}))),f.a.success(r("recover.success2")),y(Object(g.actLogin)()),e.history.push("/")}))}else f.a.error(r("login.err"))}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return a||null!==localStorage.getItem("Token")?(e.history.push("/"),null):i.a.createElement("main",null,i.a.createElement("div",{className:"box"},i.a.createElement("div",{className:"recover",style:{width:"100%",marginBottom:"50px",height:"530px"}},i.a.createElement("div",{className:"title-content"},i.a.createElement("h1",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},r("recover.title"))),i.a.createElement("div",{className:"form",style:{height:"400px",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("form",{style:{width:"80%"}},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,r("recover.email")),"flex"===h?i.a.createElement("input",{type:"email",ref:j,name:"email",onKeyUp:N,disabled:!0}):i.a.createElement("input",{type:"email",ref:j,name:"email",onKeyUp:N}),i.a.createElement(b.default,{errorMessage:_.email.errorMessage})),i.a.createElement("div",{className:"form-group ".concat(h)},i.a.createElement("label",null,r("recover.pass")),i.a.createElement("input",{type:"password",ref:O,name:"password",onKeyUp:N}),i.a.createElement(b.default,{errorMessage:_.password.errorMessage})),i.a.createElement("div",{className:"form-group ".concat(h)},i.a.createElement("label",null,r("register.confirm")),i.a.createElement("input",{type:"password",ref:w,name:"confirmPass",onKeyUp:N}),i.a.createElement(b.default,{errorMessage:_.confirmPass.errorMessage})),i.a.createElement("div",{className:"btn-form",style:{marginTop:"30px"}},"none"===h?i.a.createElement("button",{type:"submit",style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)",marginRight:"20px"},onClick:function(e){return I(e)}},r("recover.btn-check")):i.a.createElement("button",{type:"submit",style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)"},onClick:function(e){return z(e)}},r("recover.btn-send"))))))))}))},68:function(e,r,a){"use strict";a.r(r),a.d(r,"email",(function(){return t})),a.d(r,"firstname",(function(){return n})),a.d(r,"lastname",(function(){return s})),a.d(r,"phone",(function(){return c})),a.d(r,"password",(function(){return u})),a.d(r,"fullname",(function(){return l})),a.d(r,"address",(function(){return o}));var t=/\S+@\S+\.\S+/,n=/^[a-zA-Z]+$/,s=/^[a-zA-Z]+$/,c=/^\d{10}$/,u=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/,l=/^[a-zA-Z ]+$/,o=/^[a-zA-Z0-9\s,-]*$/},70:function(e,r,a){"use strict";a.r(r),a.d(r,"validateInput",(function(){return s})),a.d(r,"getValueInput",(function(){return c})),a.d(r,"getTranslationCategory",(function(){return u}));var t=a(36),n=a(68),s=function(e,r,a){return""===r?{errorMessage:t.a.t("validate.require")}:"email"===e?null!==n.email.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.email")}:"firstname"===e?null!==n.firstname.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.firstname")}:"lastname"===e?null!==n.lastname.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.lastname")}:"phone"===e?null!==n.phone.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.phone")}:"password"===e?null!==n.password.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.password")}:"confirmPass"===e?r===a?{errorMessage:""}:{errorMessage:t.a.t("validate.confirm")}:"fullname"===e?null!==n.fullname.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.fullname")}:"address"===e?null!==n.address.exec(r)?{errorMessage:""}:{errorMessage:t.a.t("validate.address")}:void 0},c=function(e,r,a,t,n,s,c,u,l){switch(e){case"email":return r.current.value;case"firstname":return a.current.value;case"lastname":return t.current.value;case"phone":return n.current.value;case"password":return s.current.value;case"confirmPass":return c.current.value;case"fullname":return u.current.value;case"address":return l.current.value}},u=function(e){switch(e){case"cosmetic":return t.a.t("grid.category1");case"makeup":return t.a.t("grid.category2");case"perfume":return t.a.t("grid.category3");case"lotions":return t.a.t("grid.menu1_1");case"mask":return t.a.t("grid.menu1_2");case"cleanser":return t.a.t("grid.menu1_3");case"lipstick":return t.a.t("grid.menu2_1");case"mascara":return t.a.t("grid.menu2_2");case"blusher":return t.a.t("grid.menu2_3");default:return e}}},71:function(e,r,a){"use strict";a.r(r);var t=a(0),n=a.n(t);r.default=function(e){return n.a.createElement("div",{className:"text-left text-danger font-italic"},e.errorMessage)}}}]);
//# sourceMappingURL=91.8737eb90.chunk.js.map